<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enhanced Chatbot</title>
    <link rel="stylesheet" href="/static/styles.css">
</head>
<body>
    <div class="main-container">
        <h1>Enhanced Chatbot with RAG</h1>
        
        <div class="container">
            <div class="chat-container">
                <div class="chat-header">
                    <h2>Chat with the Assistant</h2>
                    <button id="clearChat" class="clear-button" title="Clear chat history">Clear Chat</button>
                </div>
                <div class="chat-messages" id="chatMessages"></div>
                <div class="chat-input">
                    <input type="text" id="userQuestion" placeholder="Ask me anything...">
                    <button onclick="sendMessage()" aria-label="Send message">Send</button>
                </div>
            </div>
            
            <div class="document-container">
                <div class="tabs">
                    <div class="tab active" onclick="showTab('addDoc', this)">Add Document</div>
                    <div class="tab" onclick="showTab('viewDocs', this)">View Documents</div>
                </div>
                
                <div id="feedbackMessage" class="feedback-message"></div>
                
                <div class="tab-content active" id="addDoc">
                    <h2>Add Knowledge</h2>
                    <form id="documentForm" onsubmit="return addDocument(event)">
                        <div class="form-group">
                            <label for="source">Source:</label>
                            <input type="text" id="source" name="source" required placeholder="e.g., Federal Reserve Report 2023" maxlength="200">
                        </div>
                        <div class="form-group">
                            <label for="content">Content:</label>
                            <textarea id="content" name="content" rows="6" required placeholder="Paste content here..." maxlength="2000"></textarea>
                        </div>
                        <button type="submit">Add Document</button>
                    </form>
                </div>
                
                <div class="tab-content" id="viewDocs">
                    <h2>Stored Documents</h2>
                    <div id="documentsList">Loading...</div>
                </div>
            </div>
        </div>
    </div>

    <script src="/static/chat.js"></script>
</body>
</html>